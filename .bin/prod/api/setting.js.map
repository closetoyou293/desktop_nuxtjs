{"version":3,"sources":["../../../server/api/setting.js"],"names":["module","exports","api","post","req","res","session","_id","json","err","status","Server","Msg","user","off","DB","Setting","findOne","select","then","database","get","null","newTheme","Object","assign","theme","body","save","false","e"],"mappings":";;AAAAA,OAAOC,OAAP,GAAkBC,GAAD,IAAS;AACtBA,QAAIC,IAAJ,CAAS,aAAT,EAAwB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAClC,YAAG,CAACD,IAAIE,OAAJ,CAAYC,GAAhB,EAAqB,OAAOF,IAAIG,IAAJ,CAAS,EAAEC,KAAK,IAAP,EAAaC,QAAQC,OAAOC,GAAP,CAAWC,IAAX,CAAgBC,GAArC,EAAT,CAAP;;AAErBH,eAAOI,EAAP,CAAUC,OAAV,CACCC,OADD,CACS,EAAC,MAAMb,IAAIE,OAAJ,CAAYC,GAAnB,EADT,EAECW,MAFD,CAEQ,OAFR,EAGCC,IAHD,CAIKH,OAAD,IAAa;AACT,gBAAG,CAACA,OAAJ,EAAa,OAAOX,IAAIG,IAAJ,CAAS,EAACC,KAAK,IAAN,EAAYC,QAAQC,OAAOC,GAAP,CAAWQ,QAAX,CAAoBC,GAApB,CAAwBC,IAA5C,EAAT,CAAP;;AAEb,gBAAIC,WAAWC,OAAOC,MAAP,CAAcT,QAAQU,KAAtB,EAA6BtB,IAAIuB,IAAjC,CAAf;AACAX,oBAAQY,IAAR,CAAanB,OAAO;AAChB,oBAAGA,GAAH,EAAQ,OAAOJ,IAAIG,IAAJ,CAAS,EAACC,KAAK,IAAN,EAAYC,QAAQC,OAAOC,GAAP,CAAWQ,QAAX,CAAoBQ,IAApB,CAAyBC,KAA7C,EAAT,CAAP;AACRxB,oBAAIG,IAAJ,CAAS,EAACC,KAAK,KAAN,EAAT;AACH,aAHD;AAKH,SAbL,EAcKqB,CAAD,IAAOzB,IAAIG,IAAJ,CAAS,EAACC,KAAK,IAAN,EAAYC,QAAQC,OAAOC,GAAP,CAAWQ,QAAX,CAAoBC,GAApB,CAAwBQ,KAA5C,EAAT,CAdX;AAgBH,KAnBD;AAoBH,CArBD","file":"setting.js","sourcesContent":["module.exports = (api) => {\r\n    api.post('/save/theme', (req, res) => {\r\n        if(!req.session._id) return res.json({ err: true, status: Server.Msg.user.off });\r\n\r\n        Server.DB.Setting\r\n        .findOne({'of': req.session._id})\r\n        .select('theme')\r\n        .then(\r\n            (Setting) => {\r\n                if(!Setting) return res.json({err: true, status: Server.Msg.database.get.null});\r\n\r\n                let newTheme = Object.assign(Setting.theme, req.body);\r\n                Setting.save(err => {\r\n                    if(err) return res.json({err: true, status: Server.Msg.database.save.false});\r\n                    res.json({err: false});\r\n                })\r\n                \r\n            },\r\n            (e) => res.json({err: true, status: Server.Msg.database.get.false})\r\n        );\r\n    });\r\n}"]}